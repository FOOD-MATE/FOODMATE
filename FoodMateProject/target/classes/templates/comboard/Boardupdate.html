<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<Script type="text/javascript">
function go_mov() {
    var theForm = document.frm
    theForm.method = "get";
    theForm.action = "board_list";
    theForm.submit();
}   

function go_mod_save() {
    var theForm = document.getElementById('update_form');
    theForm.action = "/board_update_t";
    theForm.submit();
}
</script>

<article>
<h1>유저 레시피 글 수정</h1>  
<form name="frm" id="update_form" method="post" enctype="multipart/form-data">
<input type="hidden" name="seq" th:value="${com_boardVO.seq}">
<input type="hidden" th:value="${com_boardVO.d_regdate}">
<!-- 기존 이미지 저장  -->
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img01}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img02}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img03}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img04}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img05}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.manual_img06}">
<input type="hidden" name="nonmakeImg" th:value="${com_boardVO.com_recipe.att_file_no_mk}">
<table id="list">
  <tr>
     <th>분류</th>
    <td colspan="5">
        <select name="kind" id="kind">
            <th:block th:each=" kind, status : ${kindList}">
            <th:block th:if="${kind==status.count}">
            <option th:value="${status.count}" selected="selected">[[${kind}]]</option>
            </th:block>
            <th:block th:unless="${kind==status.count}">
            <option th:value="${status.count}">[[${kind}]]</option>
          </th:block>
          </th:block>
        </select>      
    </td>
</tr>
<tr>
    <th>요리명</th>
    <td colspan="5">
        <textarea rows="1" cols="60" name="title" id="title">
        [[${com_boardVO.com_recipe.rcp_nm}]]
        </textarea>
    </td>
</tr>
<tr>
    <th>주재료</th>
    <td colspan="5">   
    <textarea rows="1" cols="60" name="maingredient" id="maingredient">
        [[${com_boardVO.com_recipe.hash_tag}]]
        </textarea>     
    </td>
</tr>
<tr>
    <th>재료</th>
    <td colspan="5">
    <textarea rows="1" cols="60" name="gredient" id="gredient">
        [[${com_boardVO.com_recipe.rcp_parts_dtls}]]
        </textarea>     
    </td>
</tr>
<tr>
    <th>대표이미지 등록</th>
    <td colspan="5">
    <input type="file" name="main_img" id="main_img">
    <input type="hidden" name="main_img_h1" >
    [[${com_boardVO.com_recipe.att_file_no_mk}]]
    </td>
</tr>
<!-- 반복되는 조리법 입력 부분 -->
<tr>
    <th>첫번째 조리법</th>
    <td colspan="5">
        <textarea name="manual01" id="manual01" rows="8" cols="70"> [[${com_boardVO.com_recipe.manual01}]]</textarea>    
        <input type="file" name="manualImg1" id="manualImg1">
        <input type="hidden" name="image_h1">
        [[${com_boardVO.com_recipe.manual_img01}]]
    </td>
</tr>
<tr>
    <th>두번째 조리법</th>
    <td colspan="5">
        <textarea name="manual02" id="manual02" rows="8" cols="70" >[[${com_boardVO.com_recipe.manual02}]]</textarea>
        <input type="file" name="manualImg2" id="manualImg2">
        <input type="hidden" name="image_h2">
        [[${com_boardVO.com_recipe.manual_img02}]]
    </td>
</tr>
<tr>
    <th>세번째 조리법</th>
    <td colspan="5">
        <textarea name="manual03" id="manual03" rows="8" cols="70"> [[${com_boardVO.com_recipe.manual03}]]</textarea>
        <input type="file" name="manualImg3" id="manualImg3">
        <input type="hidden" name="image_h3">
        [[${com_boardVO.com_recipe.manual_img03}]]
    </td>
</tr>
<tr>
    <th>네번째 조리법</th>
    <td colspan="5">
        <textarea name="manual04" id="manual04" rows="8" cols="70"> [[${com_boardVO.com_recipe.manual04}]]</textarea>
        <input type="file" name="manualImg4" id="manualImg4">
        <input type="hidden" name="image_h4">
        [[${com_boardVO.com_recipe.manual_img04}]]
    </td>
</tr>
<tr>
    <th>다섯번째 조리법</th>
    <td colspan="5">
        <textarea name="manual05" id="manual05" rows="8" cols="70"> [[${com_boardVO.com_recipe.manual05}]]</textarea>
        <input type="file" name="manualImg5" id="manualImg5">
        <input type="hidden" name="image_h5">
        [[${com_boardVO.com_recipe.manual_img05}]]
    </td>
</tr>
<tr>
    <th>여섯번째 조리법</th>
    <td colspan="5">
        <textarea name="manual06" id="manual06" rows="8" cols="70">[[${com_boardVO.com_recipe.manual06}]]</textarea>
        <input type="file" name="manualImg6" id="manualImg6">
        <input type="hidden" name="image_h6">
        [[${com_boardVO.com_recipe.manual_img06}]]
    </td>
</tr>
</table>
<input class="btn" type="submit" value="수정" onClick="go_mod_save()">           
<input class="btn" type="button" value="취소" onClick="go_mov()">
</form> 
</article>
</body>
</html>